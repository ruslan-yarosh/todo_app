(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n,o=c(32),r=c(13),a=(c(41),c(42),c(43),c(4)),s=c(0),l=c.n(s),i=c(8),d=c(3),u=l.a.memo((function(e){var t=e.todos,c=e.setTodos,n=Object(s.useState)(""),o=Object(a.a)(n,2),r=o[0],l=o[1],u=Object(s.useRef)(null);Object(s.useEffect)((function(){var e;null===(e=u.current)||void 0===e||e.focus()}),[]);return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),r.trim()){var n={id:+new Date,title:r,completed:!1};c([].concat(Object(i.a)(t),[n])),l("")}},children:Object(d.jsx)("input",{type:"text",className:"new-todo","data-cy":"createTodo",placeholder:"What needs to be done?",ref:u,value:r,onChange:function(e){return l(e.target.value)}})})]})})),j=c(9),b=c(2),m=c(12),f=c.n(m),O=c(51),p=c(50),h=l.a.memo((function(e){var t=e.todo,c=e.todos,n=e.setTodos,o=Object(s.useState)(!1),r=Object(a.a)(o,2),l=r[0],i=r[1],u=Object(s.useState)(t.title),b=Object(a.a)(u,2),m=b[0],O=b[1],p=Object(s.useRef)(null);Object(s.useEffect)((function(){var e;null===(e=p.current)||void 0===e||e.focus()}),[l]);var h=function(){if(i(!1),m!==t.title)if(m){var e=c.map((function(e){return t.id!==e.id?e:Object(j.a)(Object(j.a)({},e),{},{title:m})}));n(e)}else{var o=c.filter((function(e){return e.id!==t.id}));n(o)}};return Object(d.jsxs)("li",{className:f()("todo",{completed:t.completed,editing:l}),onDoubleClick:function(){return i(!0)},children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(){var e=c.map((function(e){return t.id!==e.id?e:Object(j.a)(Object(j.a)({},e),{},{completed:!e.completed})}));n(e)}}),Object(d.jsx)("label",{children:t.title}),Object(d.jsx)("button",{type:"button","aria-label":"destroy",className:"destroy","data-cy":"deleteTodo",onClick:function(){var e=c.filter((function(e){return e.id!==t.id}));n(e)}})]}),l&&Object(d.jsx)("input",{id:"edit",type:"text",className:"edit",placeholder:"Empty todo will be deleted",ref:p,value:m,onChange:function(e){O(e.target.value)},onKeyUp:function(e){"Escape"===e.code&&(i(!1),O(t.title)),"Enter"===e.code&&(i(!1),h())},onBlur:function(){return h()}})]})})),v=function(e){var t=e.todos,c=e.setTodos;return Object(d.jsx)(O.a,{component:"ul",className:"todo-list","data-cy":"todosList",children:t.map((function(e){return Object(d.jsx)(p.a,{timeout:300,classNames:"item",children:Object(d.jsx)(h,{todo:e,todos:t,setTodos:c},e.id)},e.id)}))})};!function(e){e.All="/",e.Active="/active",e.Completed="/completed"}(n||(n={}));var x=function(e,t){switch(e){case n.Active:return t.filter((function(e){return!e.completed}));case n.Completed:return t.filter((function(e){return e.completed}));default:return t}},g=l.a.memo((function(e){var t=e.todos,c=e.setTodos,o=Object(s.useMemo)((function(){return t.every((function(e){return e.completed}))}),[t]),r=Object(b.m)().pathname;return Object(d.jsx)("section",{className:"main",children:!!t.length&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"checkbox",id:"toggle-all",className:f()("toggle-all",{active:o}),"data-cy":"toggleAll",onChange:function(){return c(o?t.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{completed:!1})})):t.map((function(e){return e.completed?e:Object(j.a)(Object(j.a)({},e),{},{completed:!0})})))}}),Object(d.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(d.jsx)(b.c,{children:Object.values(n).map((function(e){return Object(d.jsx)(b.a,{path:e,element:Object(d.jsx)(v,{todos:x(r,t),setTodos:c})},e)}))})]})})})),y=l.a.memo((function(){return Object(d.jsxs)("ul",{className:"filters","data-cy":"todosFilter",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",className:function(e){var t=e.isActive;return f()({selected:t})},children:"All"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/active",className:function(e){var t=e.isActive;return f()({selected:t})},children:"Active"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/completed",className:function(e){var t=e.isActive;return f()({selected:t})},children:"Completed"})})]})})),N=l.a.memo((function(e){var t=e.todos,c=e.setTodos,n=Object(s.useMemo)((function(){return t.filter((function(e){return!e.completed})).length}),[t]);return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(n,1===n?" item left":" items left")}),Object(d.jsx)(y,{}),t.length!==n&&Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=t.filter((function(e){return!e.completed}));c(e)},children:"Clear completed"})]})})),C=function(){var e=function(e,t){var c=Object(s.useState)((function(){var c=window.localStorage.getItem(e);return c?JSON.parse(c):t})),n=Object(a.a)(c,2),o=n[0],r=n[1];return[o,function(t){r(t),window.localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(a.a)(e,2),c=t[0],n=t[1];return Object(d.jsxs)("div",{className:"todoapp",children:[Object(d.jsx)(u,{todos:c,setTodos:n}),Object(d.jsx)(g,{todos:c,setTodos:n}),!!c.length&&Object(d.jsx)(N,{todos:c,setTodos:n})]})};Object(o.createRoot)(document.getElementById("root")).render(Object(d.jsx)(r.a,{children:Object(d.jsx)(C,{})}))}},[[48,1,2]]]);
//# sourceMappingURL=main.b29343ab.chunk.js.map